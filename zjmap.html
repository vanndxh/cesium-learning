<!--
/**
 * @Author: vanndxh
 * @Date: 2022-4-14
 * @LastModified: 2022-4-21
 */
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>浙江省地图影像demo</title>

    <script type="text/javascript" src="./node_modules/cesium/Build/Cesium/Cesium.js"></script>
    <script type="text/javascript" src="js/loadResources.js"></script>
    <script type="text/javascript" src="js/optionEvent.js"></script>
    <script type="text/javascript" src="js/go.js"></script>
    <script type="text/javascript" src="js/lightingShadow.js"></script>
    <script type="text/javascript" src="js/addSY.js"></script>
    <style>
        @import url(./node_modules/cesium/Build/CesiumUnminified/Widgets/widgets.css);
        @import "zjmap.css";

        html, body,
        #cesiumContainer {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    </style>

</head>

<body>
<!--tabBar-->
<h1 class="title" onclick="go(0)">浙江省地图影像demo</h1>
<h1 class="title" style="margin: 10px 0 10px 2px">v0.0.4</h1>
<p style="display: inline-block; font-size: 14px; margin: 10px 0 10px 190px">by: vanndxh</p>

<button class="button" onclick="go(0)">回起点</button>
<button class="button" onclick="go(1)">去浙江</button>
<button class="button" onclick="go(2)">去诸暨</button>

<button class="button" style="width: 100px; background-color: cornflowerblue;" onclick="addSY()">视域分析</button>
<button class="button" style="width: 100px; background-color: cornflowerblue;" onclick="addTS()">通视分析</button>
<button class="button" style="width: 150px; background-color: darkgoldenrod;" onclick="viewer.flyTo(tileset);">前往3dtiles测试区</button>
<button class="button" style="width: 100px; background-color: crimson;" onclick="lightingShadowInit()">日照分析</button>

<!--content-->
<div id="cesiumContainer"></div>

<script>
    let viewer = new Cesium.Viewer("cesiumContainer", {
        baseLayerPicker: true,
        timeline: false,
        animation: false,
        navigationHelpButton: false,
        infoBox: true,
    })
    viewer.clock.shouldAnimate = true
    viewer.scene.debugShowFramesPerSecond = true
    viewer.camera.setView({destination: Cesium.Cartesian3.fromDegrees(100.48, 30, 19000000)})
    let scene = viewer.scene
    let pos // 存储最后鼠标点击位置，用于日照分析、视域分析等功能

    let tileset =  loadResources()
    optionEvent()
</script>

</body>

</html>